<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JAXWS Soap Frame Contrast</title>
</head>
<link rel="stylesheet" type="text/css" href="../plugin/LanEditor/LanEditor.css"/>
<link rel="stylesheet" type="text/css" href="../plugin/LanEditor/highlight/styles/idea.css">

<link href="../plugin/SyntaxHighlighter/main.css" rel='stylesheet' type='text/css'>
<link href="../plugin/SyntaxHighlighter/shCore.css" rel='stylesheet' type='text/css'>
<link href="../plugin/SyntaxHighlighter/shThemeDefault.css" rel='stylesheet' type='text/css'>
<link href="../plugin/LanEditor/main.css" rel='stylesheet' type='text/css'>

<script src="../plugin/SyntaxHighlighter/shCore-convert.js" type='text/javascript'></script>
<script src="../plugin/SyntaxHighlighter/shBrushAll.js" type='text/javascript'></script>

<script type="text/javascript" src="../plugin/LanEditor/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="../plugin/LanEditor/LanEditor.js"></script>

<script type="text/javascript">
    $(document).ready(function () {
        //初始化 @textelem:编辑区的id @showelem可以省略
        var lan = LanEditor.init({
            textelem: "editor",
            showelem: "show"
        });
        //如果初始化失败，则显示出错信息
        if(lan.status == false){
            alter(lan.message);
            return ;
        }else{
            // 默认保存LanEditor快速指南文件
            // 获取文件创建的时间
            var createTime = LanEditor.Time.GetTimestamp();
            // 文件名
            LanEditor.File.CurOpenFile.name = $(document).attr("title");
            // 创建时间
            LanEditor.File.CurOpenFile.time = createTime;
            // 保存文件
            LanEditor.File.SaveFile();
            // 渲染
            LanEditor.RenderHTML();
        }
    });
</script>
<body>
<div id="edit">
    <textarea id="editor" name="editor">
#### JAXWS SOAP 1.1 / 1.2 Contrast

##### SOAP 1.1

 - ```@BindingType(SOAPBinding.SOAP11HTTP_BINDING)```

```java
@WebService(name = "HelloWebService", targetNamespace = "http://ws.mrcuijt.science/")
@BindingType(SOAPBinding.SOAP11HTTP_BINDING)
public class HelloWebServiceImpl implements HelloWebService {

	@Override
	@WebMethod
	@WebResult(name = "message")
	public String sayHello(@WebParam(name = "name") String name) {
		return String.format("%s, Hello WebService", name);
	}
}
```

```xml
<?xml version='1.0' encoding='UTF-8'?>
<!-- Published by JAX-WS RI at http://jax-ws.dev.java.net. RI's version is JAX-WS RI 2.2.8 svn-revision#13980. -->
<!-- Generated by JAX-WS RI at http://jax-ws.dev.java.net. RI's version is JAX-WS RI 2.2.8 svn-revision#13980. -->
<definitions
    xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd"
    xmlns:wsp="http://www.w3.org/ns/ws-policy"
    xmlns:wsp1_2="http://schemas.xmlsoap.org/ws/2004/09/policy"
    xmlns:wsam="http://www.w3.org/2007/05/addressing/metadata"
    xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
    xmlns:tns="http://ws.mrcuijt.science/"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
    xmlns="http://schemas.xmlsoap.org/wsdl/" 
    targetNamespace="http://ws.mrcuijt.science/" 
    name="HelloWebServiceImplService">
    <types>
        <xsd:schema>
            <xsd:import namespace="http://ws.mrcuijt.science/" schemaLocation="http://localhost:8080/hello?xsd=1"/>
        </xsd:schema>
    </types>
    <message name="sayHello">
        <part name="parameters" element="tns:sayHello"/>
    </message>
    <message name="sayHelloResponse">
        <part name="parameters" element="tns:sayHelloResponse"/>
    </message>
    <portType name="HelloWebService">
        <operation name="sayHello">
            <input wsam:Action="http://ws.mrcuijt.science/HelloWebService/sayHelloRequest" message="tns:sayHello"/>
            <output wsam:Action="http://ws.mrcuijt.science/HelloWebService/sayHelloResponse" message="tns:sayHelloResponse"/>
        </operation>
    </portType>
    <binding name="HelloWebServicePortBinding" type="tns:HelloWebService">
        <soap:binding transport="http://schemas.xmlsoap.org/soap/http" style="document"/>
        <operation name="sayHello">
            <soap:operation soapAction=""/>
            <input>
                <soap:body use="literal"/>
            </input>
            <output>
                <soap:body use="literal"/>
            </output>
        </operation>
    </binding>
    <service name="HelloWebServiceImplService">
        <port name="HelloWebServicePort" binding="tns:HelloWebServicePortBinding">
            <soap:address location="http://localhost:8080/hello"/>
        </port>
    </service>
</definitions>
```

```xml
<?xml version='1.0' encoding='UTF-8'?>
<!-- Published by JAX-WS RI at http://jax-ws.dev.java.net. RI's version is JAX-WS RI 2.2.8 svn-revision#13980. -->
<xs:schema
    xmlns:tns="http://ws.mrcuijt.science/"
    xmlns:xs="http://www.w3.org/2001/XMLSchema" 
    version="1.0" 
    targetNamespace="http://ws.mrcuijt.science/">
    <xs:element name="sayHello" type="tns:sayHello"/>
    <xs:element name="sayHelloResponse" type="tns:sayHelloResponse"/>
    <xs:complexType name="sayHello">
        <xs:sequence>
            <xs:element name="name" type="xs:string" minOccurs="0"/>
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="sayHelloResponse">
        <xs:sequence>
            <xs:element name="message" type="xs:string" minOccurs="0"/>
        </xs:sequence>
    </xs:complexType>
</xs:schema>
```
 wsdl ```definitions```
 
 - ```xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"``` 

<br/>
 ```JAXWS Client Request```
 
 - HTTP Request Header
  - ```Accept: text/xml```
  - ```Content-Type:text/xml```
  - ```SOAPAction: "http://ws.mrcuijt.science/HelloWebService/sayHelloRequest"```
 - SOAP Message
  - ```Envelope xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"```

```xml
POST /hello HTTP/1.1
Accept: text/xml, multipart/related
Content-Type: text/xml; charset=utf-8
SOAPAction: "http://ws.mrcuijt.science/HelloWebService/sayHelloRequest"
User-Agent: JAX-WS RI 2.2.8 svn-revision#13980
Host: localhost:8080
Connection: keep-alive
Content-Length: 217

<?xml version='1.0' encoding='UTF-8'?>
<S:Envelope xmlns:S="http://schemas.xmlsoap.org/soap/envelope/">
    <S:Body>
        <ns2:sayHello xmlns:ns2="http://ws.mrcuijt.science/">
            <name>Jack</name>
        </ns2:sayHello>
    </S:Body>
</S:Envelope>
```
 ```JAXWS Server Response```
 
 - HTTP Response Header
  - ```Content-type: text/xml```
 - SOAP Message
  - ```Envelope xmlns:S="http://schemas.xmlsoap.org/soap/envelope/"```
```xml
HTTP/1.1 200 OK
Date: Tue, 02 Apr 2019 15:17:04 GMT
Transfer-encoding: chunked
Content-type: text/xml; charset=utf-8

<?xml version='1.0' encoding='UTF-8'?>
<S:Envelope xmlns:S="http://schemas.xmlsoap.org/soap/envelope/">
    <S:Body>
        <ns2:sayHelloResponse xmlns:ns2="http://ws.mrcuijt.science/">
            <message>Jack, Hello WebService</message>
        </ns2:sayHelloResponse>
    </S:Body>
</S:Envelope>
``` 

##### SOAP 1.2

 - ```@BindingType(SOAPBinding.SOAP12HTTP_BINDING)```

```java
@WebService(name = "HelloWebService", targetNamespace = "http://ws.mrcuijt.science/")
@BindingType(SOAPBinding.SOAP12HTTP_BINDING)
public class HelloWebServiceImpl implements HelloWebService {

	@Override
	@WebMethod
	@WebResult(name = "message")
	public String sayHello(@WebParam(name = "name") String name) {
		return String.format("%s, Hello WebService", name);
	}
}
```

```xml
<?xml version='1.0' encoding='UTF-8'?>
<!-- Published by JAX-WS RI at http://jax-ws.dev.java.net. RI's version is JAX-WS RI 2.2.8 svn-revision#13980. -->
<!-- Generated by JAX-WS RI at http://jax-ws.dev.java.net. RI's version is JAX-WS RI 2.2.8 svn-revision#13980. -->
<definitions
    xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd"
    xmlns:wsp="http://www.w3.org/ns/ws-policy"
    xmlns:wsp1_2="http://schemas.xmlsoap.org/ws/2004/09/policy"
    xmlns:wsam="http://www.w3.org/2007/05/addressing/metadata"
    xmlns:soap12="http://schemas.xmlsoap.org/wsdl/soap12/"
    xmlns:tns="http://ws.mrcuijt.science/"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
    xmlns="http://schemas.xmlsoap.org/wsdl/" 
    targetNamespace="http://ws.mrcuijt.science/" 
    name="HelloWebServiceImplService">
    <types>
        <xsd:schema>
            <xsd:import namespace="http://ws.mrcuijt.science/" schemaLocation="http://localhost:8080/hello?xsd=1"/>
        </xsd:schema>
    </types>
    <message name="sayHello">
        <part name="parameters" element="tns:sayHello"/>
    </message>
    <message name="sayHelloResponse">
        <part name="parameters" element="tns:sayHelloResponse"/>
    </message>
    <portType name="HelloWebService">
        <operation name="sayHello">
            <input wsam:Action="http://ws.mrcuijt.science/HelloWebService/sayHelloRequest" message="tns:sayHello"/>
            <output wsam:Action="http://ws.mrcuijt.science/HelloWebService/sayHelloResponse" message="tns:sayHelloResponse"/>
        </operation>
    </portType>
    <binding name="HelloWebServicePortBinding" type="tns:HelloWebService">
        <soap12:binding transport="http://schemas.xmlsoap.org/soap/http" style="document"/>
        <operation name="sayHello">
            <soap12:operation soapAction=""/>
            <input>
                <soap12:body use="literal"/>
            </input>
            <output>
                <soap12:body use="literal"/>
            </output>
        </operation>
    </binding>
    <service name="HelloWebServiceImplService">
        <port name="HelloWebServicePort" binding="tns:HelloWebServicePortBinding">
            <soap12:address location="http://localhost:8080/hello"/>
        </port>
    </service>
</definitions>
``` 

```xml
<?xml version='1.0' encoding='UTF-8'?>
<!-- Published by JAX-WS RI at http://jax-ws.dev.java.net. RI's version is JAX-WS RI 2.2.8 svn-revision#13980. -->
<xs:schema
    xmlns:tns="http://ws.mrcuijt.science/"
    xmlns:xs="http://www.w3.org/2001/XMLSchema" 
    version="1.0" 
    targetNamespace="http://ws.mrcuijt.science/">
    <xs:element name="sayHello" type="tns:sayHello"/>
    <xs:element name="sayHelloResponse" type="tns:sayHelloResponse"/>
    <xs:complexType name="sayHello">
        <xs:sequence>
            <xs:element name="name" type="xs:string" minOccurs="0"/>
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="sayHelloResponse">
        <xs:sequence>
            <xs:element name="message" type="xs:string" minOccurs="0"/>
        </xs:sequence>
    </xs:complexType>
</xs:schema>
```

wsdl ```definitions```

 - ```xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap12/"```
 
<br/>
 ```JAXWS Client Request```
 
 - HTTP Request Header
  - ```Accept: application/soap+xml```
  - ```Content-Type: application/soap+xml; charset=utf-8;action="http://ws.mrcuijt.science/HelloWebService/sayHelloRequest"```
 - SOAP Message
  - ```Envelope xmlns:S="http://www.w3.org/2003/05/soap-envelope"```
 
```xml
POST /hello HTTP/1.1
Accept: application/soap+xml, multipart/related
Content-Type: application/soap+xml; charset=utf-8;action="http://ws.mrcuijt.science/HelloWebService/sayHelloRequest"
User-Agent: JAX-WS RI 2.2.8 svn-revision#13980
Host: localhost:8080
Connection: keep-alive
Content-Length: 215

<?xml version='1.0' encoding='UTF-8'?>
<S:Envelope xmlns:S="http://www.w3.org/2003/05/soap-envelope">
    <S:Body>
        <ns2:sayHello xmlns:ns2="http://ws.mrcuijt.science/">
            <name>Jack</name>
        </ns2:sayHello>
    </S:Body>
</S:Envelope>
```
 ```JAXWS Server Response```

 - HTTP Response Header
  - ```Content-type: application/soap+xml```
 - SOAP Message
  - ```Envelope xmlns:S="http://www.w3.org/2003/05/soap-envelope"```
 
```xml
HTTP/1.1 200 OK
Date: Tue, 02 Apr 2019 15:33:12 GMT
Transfer-encoding: chunked
Content-type: application/soap+xml; charset=utf-8

<?xml version='1.0' encoding='UTF-8'?>
<S:Envelope xmlns:S="http://www.w3.org/2003/05/soap-envelope">
    <S:Body>
        <ns2:sayHelloResponse xmlns:ns2="http://ws.mrcuijt.science/">
            <message>Jack, Hello WebService</message>
        </ns2:sayHelloResponse>
    </S:Body>
</S:Envelope>
```
    </textarea>
</div>

<div id="show"></div>
</body>
</html>