<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SpringBoot Help</title>
</head>
<link rel="stylesheet" type="text/css" href="../plugin/LanEditor/LanEditor.css"/>
<link rel="stylesheet" type="text/css" href="../plugin/LanEditor/highlight/styles/idea.css">

<link href="../plugin/SyntaxHighlighter/main.css" rel='stylesheet' type='text/css'>
<link href="../plugin/SyntaxHighlighter/shCore.css" rel='stylesheet' type='text/css'>
<link href="../plugin/SyntaxHighlighter/shThemeDefault.css" rel='stylesheet' type='text/css'>
<link href="../plugin/LanEditor/main.css" rel='stylesheet' type='text/css'>

<script src="../plugin/SyntaxHighlighter/shCore-convert.js" type='text/javascript'></script>
<script src="../plugin/SyntaxHighlighter/shBrushAll.js" type='text/javascript'></script>

<script type="text/javascript" src="../plugin/LanEditor/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="../plugin/LanEditor/LanEditor.js"></script>

<script type="text/javascript">
    $(document).ready(function () {
        //初始化 @textelem:编辑区的id @showelem可以省略
        var lan = LanEditor.init({
            textelem: "editor",
            showelem: "show"
        });
        //如果初始化失败，则显示出错信息
        if(lan.status == false){
            alter(lan.message);
            return ;
        }else{
            // 默认保存LanEditor快速指南文件
            // 获取文件创建的时间
            var createTime = LanEditor.Time.GetTimestamp();
            // 文件名
            LanEditor.File.CurOpenFile.name = $(document).attr("title");
            // 创建时间
            LanEditor.File.CurOpenFile.time = createTime;
            // 保存文件
            LanEditor.File.SaveFile();
            // 渲染
            LanEditor.RenderHTML();
        }
    });
</script>
<body>
<div id="edit">
    <textarea id="editor" name="editor">
#### SpringBoot Help

 - 无法进行 Junit 测试
 
 解决方法：单元测试类的包必须和程序入口所在的包名相同

 - 添加新的 Controller 后，SpringBoot 无法启动
 
 解决方法：检查 Controller 中的 @RequestMapping 是否存在冲突

 - @ResponseBody String 类型，Content-Type:text/plain 问题
 
 解决方法：在请求头中指定需要返回的内容类型 Accept:application/json

```javascript
function ajaxJson(url){
	 
    var promise = new Promise(function (resolve,reject) {
        // 1. create XMLHttpRequset Object.
        var xmlhttp;
        if (window.XMLHttpRequest) {
            //  IE7+, Firefox, Chrome, Opera, Safari Usage
            xmlhttp = new XMLHttpRequest();
        }
        else {
            // IE6, IE5 Usage
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
 
        // 2. add ajax readystatechange event listener.
        xmlhttp.onreadystatechange = function () {
            console.info("[readystatechange - begin]");
            console.info(xmlhttp.status + " " + xmlhttp.readyState);
            if (xmlhttp.readyState == 4) {
                if (xmlhttp.status == 200) {
                    if (xmlhttp.responseType == "json") {
                        console.info(xmlhttp.response);
                        resolve(xmlhttp.response);
                    } else if(xmlhttp.responseType == "text"){
                        resolve(xmlhttp.responseText);
                    } else if(xmlhttp.responseType == "document"){
                        resolve(xmlhttp.responseXML);
                    } else {
                        console.info("responseText :" + xmlhttp.responseText);
                        console.info("responseXML :" + xmlhttp.responseXML);
                        console.info("[readystatechange - end]");
                        console.info("");
                    }
                } else {
                    console.info("requset fail");
                    console.info("[readystatechange - end]");
                    console.info("");
                    reject();
                }
            }
        }
 
        xmlhttp.responseType = "json";
 
        // 3. set ajax request info
        //   1) Request Method ["GET","POST","HEAD","PUT","DELETE","CONNECT","TRACE","OPTIONS"]
        //   2) URL
        //   3) async
        xmlhttp.open("POST", url, true);

        // 添加请求头
        xmlhttp.setRequestHeader("Accept", "application/json");
        
        // 4. send ajax request
        xmlhttp.send();
    });
    return promise;
}
```
	</textarea>
</div>

<div id="show"></div>
</body>
</html>